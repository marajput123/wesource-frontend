(this["webpackJsonpwesource-frontend"]=this["webpackJsonpwesource-frontend"]||[]).push([[0],{232:function(e,t,n){},234:function(e,t,n){},235:function(e,t,n){},236:function(e,t,n){},237:function(e,t,n){},239:function(e,t,n){},240:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(50),i=n.n(c),s=n(14),o=n.n(s),u=n(27),l=n(6),d=n(244),j=n(122),b=n(79),x=n(335),h=n(304),p=Object(h.a)(b.a)((function(e){return{background:"".concat(e.disabled?"grey":"linear-gradient(to right, #ff416c, #ff4b2b)"),color:"white"}})),O=Object(h.a)(b.a)((function(e){e.theme;return{background:" linear-gradient(to right, #ff416c, #ff4b2b)",color:"white",height:"46px",borderRadius:"0px 20px 20px 0px"}})),f=(Object(h.a)(x.a)((function(e){return{background:"".concat(e.disabled?"grey":"linear-gradient(to right, #ff416c, #ff4b2b)"),color:"white"}})),n(21)),g=n(22),m=n(336),v=n(337),y=n(1),w=function(){return Object(y.jsx)(d.a,{component:"footer",sx:{display:"flex",bottom:0,left:0,py:2,width:"100%",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[200]:e.palette.grey[800]}},children:Object(y.jsx)(m.a,{maxWidth:"sm",color:"primary.main",children:Object(y.jsxs)(j.a,{variant:"body2",color:"text.secondary",align:"center",children:["Copyright \xa9 ",Object(y.jsx)(v.a,{color:"inherit",href:"https://material-ui.com/",children:"WeSource"})," ",(new Date).getFullYear(),"."]})})})},C=function(e){var t=e.children;return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(d.a,{sx:{display:"flex",minHeight:"100vh",flexDirection:"column"},children:[Object(y.jsx)(m.a,{maxWidth:"lg",sx:{flexGrow:1},children:t}),Object(y.jsx)(w,{})]})})},S=function(){var e=Object(g.g)(),t=Object(f.c)((function(e){return e.profile})).id;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(C,{children:Object(y.jsx)(d.a,{sx:{flex:1,height:"100vh",maxHeight:900,minHeight:700,justifyContent:"center",alignItems:"center",display:"flex"},children:Object(y.jsxs)(d.a,{sx:{mb:"12rem"},children:[Object(y.jsx)(j.a,{variant:"h2",children:"WeSource"}),Object(y.jsx)(d.a,{sx:{width:425},children:Object(y.jsx)(j.a,{variant:"h6",sx:{padding:"5px 10px",fontWeight:400},children:"WeSource is a platform designed to provide users with opportunities to crowdsource and acquire foreign goods."})}),Object(y.jsxs)(d.a,{style:{paddingTop:"20px",flex:1,display:"flex"},children:[!t&&Object(y.jsx)(p,{onClick:function(){e.push("/login")},sx:{margin:"0px 10px"},fullWidth:!0,children:"Sign Up"}),Object(y.jsx)(p,{onClick:function(){e.push("/search-products")},sx:{margin:"0px 10px"},fullWidth:!0,children:"Search Products"})]})]})})})})},k=n(96),I=n(109),R=n.n(I),W=n(167),T=n.n(W).a.create({baseURL:"http://127.0.0.1:5000/api/"}),D=function(e){var t=JSON.parse(window.atob(e.split(".")[1]));return function(){var n=Object(u.a)(o.a.mark((function n(r){var a,c,i,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a=t.id,n.next=4,T.get("/auth/".concat(a),{headers:{Authorization:"Bearer ".concat(e)}});case 4:return c=n.sent,i=c.data,s={firstName:i.firstName,lastName:i.lastName,email:i.email,rating:i.rating,username:i.username,imageUrl:i.imageURL?i.imageURL:""},n.abrupt("return",r({type:"SIGN_IN",payload:{jwtToken:e,id:a,user:s}}));case 10:return n.prev=10,n.t0=n.catch(0),n.abrupt("return",r(L()));case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},N=function(e){return{type:"UPDATE_USER",payload:{userProfile:e}}},F=function(e){return{type:"SEARCH_QUERY",payload:{query:e}}},L=function(){return{type:"SERVER_ERROR"}},P=(n(232),function(e){var t=e.error;return Object(y.jsxs)(d.a,{sx:{backgroundColor:"#fb5d5d4a",borderRadius:"5px",padding:"10px"},children:[Object(y.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(y.jsx)(R.a,{style:{marginRight:"5px"}}),Object(y.jsx)(j.a,{style:{fontWeight:400},variant:"h6",children:"Ooops"})]}),Object(y.jsx)(j.a,{variant:"body2",children:t})]})}),U=function(e){var t=e.useRegister,n=Object(g.g)(),a=Object(f.b)(),c=Object(r.useState)(""),i=Object(l.a)(c,2),s=i[0],o=i[1],u=Object(r.useState)(""),d=Object(l.a)(u,2),b=d[0],x=d[1],h=Object(r.useState)(""),O=Object(l.a)(h,2),m=O[0],v=O[1];return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(j.a,{variant:"h5",sx:{paddingBottom:"10px",fontWeight:200},children:"Welcome back!"}),Object(y.jsx)(j.a,{variant:"h6",sx:{paddingBottom:"10px"},children:"Login"}),m&&Object(y.jsx)(P,{error:m}),Object(y.jsx)(k.a,{error:!!m,helperText:m?"Did you use your favorite email?":"Your favorite email!",fullWidth:!0,label:"Email",variant:"filled",value:s,onChange:function(e){return o(e.target.value)}}),Object(y.jsx)(k.a,{error:!!m,helperText:m?"Or maybe you entered the wrong password.":"Your super secret password!",fullWidth:!0,label:"Password",variant:"filled",type:"password",value:b,onChange:function(e){return x(e.target.value)}}),Object(y.jsx)(p,{fullWidth:!0,onClick:function(){T.post("login",{email:s,password:b}).then((function(e){a(D(e.data.jwt)),n.push("/")})).catch((function(e){e.response&&v(e.response.data.message)}))},children:"Login"}),Object(y.jsx)(p,{fullWidth:!0,onClick:function(e){return t(!0)},children:"Create a account"})]})},_=n(182),A=n(168),M=n.n(A),q=function(e){return!isNaN(e)},E=function(e){var t=e.errors,n=Object(r.useState)(!1),c=Object(l.a)(n,2),i=c[0],s=c[1];return Object(y.jsxs)(d.a,{sx:{display:"flex",alignItems:"center",position:"relative",color:"red",width:"fit-content"},children:[Object(y.jsx)(j.a,{children:"Invalid Validation"}),Object(y.jsx)(M.a,{fontSize:"small",sx:{marginLeft:"5px"},onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)}}),i&&Object(y.jsx)(d.a,{sx:{position:"absolute",top:30,zIndex:1,left:"90%",width:"175px"},children:Object(y.jsxs)(_.a,{sx:{display:"flex",flexDirection:"column",padding:"10px 3px",borderRadius:"7px"},elevation:12,children:[Object(y.jsx)(j.a,{sx:{color:"red","&.MuiTypography-root":{padding:"2px"}},children:"Whoops"}),t.map((function(e,t){return Object(y.jsx)(a.a.Fragment,{children:Object(y.jsxs)(j.a,{sx:{fontSize:14,color:"red","&.MuiTypography-root":{padding:"2px"}},children:["- ",e]})},t)}))]})})]})},B=function(e){var t=e.fullWidth,n=e.label,a=e.variant,c=e.helperText,i=Object(r.useState)(!1),s=Object(l.a)(i,2),o=s[0],u=s[1],j=Object(r.useState)([]),b=Object(l.a)(j,2),x=b[0],h=b[1],p=Object(r.useState)(e.value||""),O=Object(l.a)(p,2),f=O[0],g=O[1],m=function(t){var n=e.minLength,r=e.maxLength,a=e.email,c=e.alphanumeric,i=e.required,s=e.numericInteger,o=e.numeric,u=[];n&&n>t.length&&n>0&&u.push("Length must be greater than ".concat(n)),r&&r<t.length&&r&&u.push("Length must be less than ".concat(r)),a&&!function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(t)&&u.push("Must be a valid email"),c&&!function(e){var t,n,r;for(n=0,r=e.length;n<r;n++)if(!((t=e.charCodeAt(n))>47&&t<58)&&!(t>64&&t<91)&&!(t>96&&t<123))return!1;return!0}(t)&&u.push("Must be Alphanumeric"),s&&!function(e){return!(isNaN(e)||!Number.isInteger(parseFloat(e)))}(t)&&u.push("Must be a whole number"),o&&!q(t)&&u.push("Must a number"),i&&0===t.length&&u.push("The field is required"),i||0!==t.length||(u=[]),h(u),e.validation&&e.validation(0===u.length)};return Object(y.jsxs)(d.a,{sx:{paddingBottom:"".concat(0===x.length?"10px":"9px"),width:"100%"},children:[Object(y.jsx)(k.a,{sx:{"&.MuiFormControl-root":{m:"0px",textTransform:"capitalize"}},value:e.value,fullWidth:t,variant:a,label:n,onBlur:function(){o||(u(!0),m(f))},onChange:function(t){!function(t){g(t.target.value),m(t.target.value),e.onChange(t)}(t)},error:0!==x.length,helperText:0!==x.length?null:c,required:e.required}),0!==x.length?Object(y.jsx)(E,{errors:x}):null]})},G=n(19),$=function(e){return"string"===typeof e&&e.length>0?e.charAt(0).toUpperCase()+e.slice(1):e},z=function(e,t){var n={};return Object.keys(e).forEach((function(t){if(null!==e[t]&&""!==e[t]&&!1!==e[t])switch(t){case"minimumValue":return n=Object(G.a)(Object(G.a)({},n),{},{price__gte:parseFloat(e[t])});case"maximumValue":return n=Object(G.a)(Object(G.a)({},n),{},{price__lte:parseFloat(e[t])});case"date":var r=new Date(e[t].ts);return r.setDate(r.getDate()+1),n=Object(G.a)(Object(G.a)({},n),{},{date__lte:r.toISOString().split("T")[0]})}})),""!==t&&(n=Object(G.a)(Object(G.a)({},n),{},{title__icontains:t})),n},V=function(e){var t;try{t=new URL(e)}catch(n){return!1}return"http:"===t.protocol||"https:"===t.protocol},Q=function(e){var t=e.error;return Object(y.jsxs)(d.a,{sx:{backgroundColor:"#fb5d5d4a",borderRadius:"5px",padding:"10px"},children:[Object(y.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(y.jsx)(R.a,{style:{marginRight:"5px"}}),Object(y.jsx)(j.a,{style:{fontWeight:400},variant:"h6",children:"Ooops"})]}),Object(y.jsx)(j.a,{variant:"body2",children:t})]})},H=function(e){var t=e.useRegister,n=Object(f.b)(),a=Object(g.g)(),c=Object(r.useState)(""),i=Object(l.a)(c,2),s=i[0],d=i[1],b=Object(r.useState)(""),x=Object(l.a)(b,2),h=x[0],O=x[1],m=Object(r.useState)(""),v=Object(l.a)(m,2),w=v[0],C=v[1],S=Object(r.useState)(""),k=Object(l.a)(S,2),I=k[0],R=k[1],W=Object(r.useState)(""),N=Object(l.a)(W,2),F=N[0],L=N[1],P=Object(r.useState)(""),U=Object(l.a)(P,2),_=U[0],A=U[1],M=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T.post("auth",{firstName:s,lastName:h,username:w,email:I,password:F}).then((function(e){n(D(e.data.jwt)),a.push("/")})).catch((function(e){A("Incorrect information provided, please make sure to fill all the credentials correctly.")}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(j.a,{variant:"h5",sx:{paddingBottom:"10px",fontWeight:200},children:"Hello new user!"}),Object(y.jsx)(j.a,{variant:"h6",sx:{paddingBottom:"20px"},children:"Register"}),_&&Object(y.jsx)(Q,{error:_}),Object(y.jsx)(B,{helperText:"Your first name.",fullWidth:!0,label:"First Name",variant:"filled",value:s,onChange:function(e){return d($(e.target.value))},required:!0,maxLength:50}),Object(y.jsx)(B,{helperText:"Your last name.",fullWidth:!0,label:"Last Name",variant:"filled",value:h,onChange:function(e){return O($(e.target.value))},required:!0,maxLength:50}),Object(y.jsx)(B,{helperText:"A name that defines who you are!",fullWidth:!0,label:"Username",variant:"filled",value:w,onChange:function(e){return C(e.target.value)},required:!0,minLength:6,maxLength:30}),Object(y.jsx)(B,{helperText:"We will not share your email with anyone!",fullWidth:!0,label:"Email",variant:"filled",value:I,onChange:function(e){return R(e.target.value)},required:!0,email:!0,maxLength:50}),Object(y.jsx)(B,{helperText:"Do not share password with anyone!",fullWidth:!0,label:"Password",variant:"filled",type:"password",value:F,onChange:function(e){return L(e.target.value)},required:!0,alphanumeric:!0}),Object(y.jsx)(p,{fullWidth:!0,onClick:M,children:"Register"}),Object(y.jsx)(p,{fullWidth:!0,onClick:function(e){return t(!1)},children:"Already a user?"})]})},J=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(C,{children:Object(y.jsx)(d.a,{sx:{flex:1,borderRadius:"0px",margin:"50px 0px 10px 0px",maxHeight:"900px",display:"flex",flexDirection:"column",alignItems:"center","& .MuiTextField-root ":{m:1},"& .MuiButton-root":{m:1}},children:Object(y.jsx)(d.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",maxWidth:"340px"},children:n?Object(y.jsx)(H,{useRegister:a}):Object(y.jsx)(U,{useRegister:a})})})})})},Y=n(3),K=n(25),Z=n(331),X=n(72),ee=(n(234),["profile"]),te=function(e){var t=e.profile,n=(Object(K.a)(e,ee),t.id),a=t.jwtToken,c=Object(f.b)(),i=Object(r.useState)(t.firstName||""),s=Object(l.a)(i,2),o=s[0],u=s[1],b=Object(r.useState)(t.lastName),x=Object(l.a)(b,2),h=x[0],O=x[1],g=Object(r.useState)(t.email),m=Object(l.a)(g,2),v=m[0],w=m[1],C=Object(r.useState)(t.username),S=Object(l.a)(C,2),k=S[0],I=S[1],R=Object(r.useState)(!0),W=Object(l.a)(R,2),D=W[0],F=W[1],L=Object(r.useState)(!1),P=Object(l.a)(L,2),U=P[0],_=P[1],A=function(e){e!==D&&F(e)};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(j.a,{variant:"h6",style:{fontWeight:"400"},children:"Update Information about yourself"}),Object(y.jsxs)(d.a,{children:[U&&Object(y.jsx)(d.a,{sx:{width:"100%",backgroundColor:function(e){return"Success"===U?e.palette.success.light:e.palette.error.light},marginBottom:"15px",padding:"0px 10px"},children:Object(y.jsx)(j.a,{children:"Success"===U?"Profile information updated!":"Profile information could not be updated."})}),Object(y.jsx)(B,{label:"First Name",fullWidth:!0,variant:"filled",value:o,onChange:function(e){return u(e.target.value)},required:!0,minLength:2,validation:A}),Object(y.jsx)(B,{label:"Last Name",fullWidth:!0,variant:"filled",value:h,onChange:function(e){return O(e.target.value)},required:!0,minLength:2,validation:A}),Object(y.jsx)(B,{label:"Username",fullWidth:!0,variant:"filled",value:k,onChange:function(e){return I(e.target.value)},required:!0,minLength:5,maxLength:20,validation:A}),Object(y.jsx)(B,{label:"Email",fullWidth:!0,variant:"filled",value:v,onChange:function(e){return w(e.target.value)},required:!0,email:!0,validation:A}),Object(y.jsx)("div",{children:Object(y.jsx)(p,{disabled:!D,onClick:function(){D&&T.put("/auth/".concat(n),{firstName:o,lastName:h,username:k,email:v},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){200===e.status&&(c(N({firstName:o,lastName:h,username:k,email:v})),_("Success"))})).catch((function(e){_("Failed")}))},fullWidth:!0,children:"Update"})})]})]})},ne=n(169),re=n.n(ne),ae=["profile"],ce=function(e){var t,n=e.profile,a=(Object(K.a)(e,ae),Object(f.b)()),c=Object(r.useState)(n.imageUrl?n.imageUrl:""),i=Object(l.a)(c,2),s=i[0],o=i[1],u=Object(r.useState)(null),b=Object(l.a)(u,2),x=b[0],h=b[1],O=n.id,g=n.jwtToken;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(j.a,{variant:"h6",style:{padding:"30px 0px 15px 0px",fontWeight:"400"},children:"Upload Picture"}),x&&Object(y.jsx)(d.a,{sx:{width:"100%",backgroundColor:function(e){return"Success"===x?e.palette.success.light:e.palette.error.light}},children:Object(y.jsx)(j.a,{style:{padding:"5px 5px"},children:"Success"===x?"Image updated!":"Image could not be updated."})}),Object(y.jsx)(Z.a,{style:{width:"250px",height:"250px",margin:"20px"},alt:"Jerry Top",src:s}),Object(y.jsxs)(d.a,{sx:{display:"flex",alignItems:"center",width:"90%"},children:[Object(y.jsx)(k.a,(t={style:{flex:1},value:s,onChange:function(e){return o(e.target.value)},variant:"filled",required:!0},Object(Y.a)(t,"style",{width:"90%",padding:"10px 0px"}),Object(Y.a)(t,"label","Image Url"),t)),Object(y.jsx)(X.a,{onClick:function(){o(n.imageUrl?n.imageUrl:"")},sx:{width:"50px",height:"50px",margin:"2px"},children:Object(y.jsx)(re.a,{})})]}),Object(y.jsx)(p,{onClick:function(){T.put("/auth/".concat(O),{imageURL:s},{headers:{Authorization:"Bearer ".concat(g)}}).then((function(e){200===e.status&&(a(N({imageUrl:s})),h("Success"))})).catch((function(e){h("Failed")}))},style:{width:"90%"},children:"Upload"})]})},ie=function(){var e=Object(f.c)((function(e){return e.profile}));return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(C,{children:Object(y.jsxs)(d.a,{sx:{display:"flex",padding:"20px 0px",flexDirection:"column"},children:[Object(y.jsxs)(d.a,{sx:{display:"flex"},children:[Object(y.jsx)(d.a,{style:{flex:5,display:"flex",justifyContent:"center"},children:Object(y.jsx)(d.a,{className:"profile-inner-left-container",children:Object(y.jsx)(j.a,{variant:"h4",style:{fontWeight:"400"},children:"My Profile"})})}),Object(y.jsx)(d.a,{sx:{flex:3}})]}),Object(y.jsxs)(d.a,{sx:{display:"flex"},children:[Object(y.jsx)(d.a,{style:{flex:5,display:"flex",justifyContent:"center"},children:Object(y.jsx)(d.a,{sx:{padding:"25px 20px 0px 20px"},className:"profile-inner-left-container",children:Object(y.jsx)(te,{profile:e})})}),Object(y.jsx)(d.a,{className:"profile-inner-right-container",children:Object(y.jsx)(ce,{profile:e})})]})]})})})},se=n(341),oe=n.p+"static/media/W.8cc3104f.svg",ue=n(178),le=n(121),de=(n(235),function(e){var t=e.open,n=e.handleClose,r=e.children;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(_.a,{elevation:1,className:"custom-dropdown ".concat(t?null:"custom-dropdown-invisible"),children:Object(y.jsx)(ue.a,{onClickAway:n,children:Object(y.jsx)(le.a,{children:r})})})})}),je=n(311),be=n(44),xe=n(179),he=n(312),pe=n(310),Oe=n(313),fe=[{title:"My Profile",img:Object(y.jsx)(pe.a,{color:"primary"}),path:"/profile"}],ge=function(e){var t=e.firstName,n=e.lastName,a=e.email,c=(e.id,Object(g.g)()),i=Object(f.b)(),s=Object(r.useRef)(null),o=Object(r.useState)(!1),u=Object(l.a)(o,2),b=u[0],x=u[1],h="".concat(t.charAt(0).toUpperCase()).concat(n.charAt(0).toUpperCase()),p=function(){x(!b)};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{ref:s,onClick:p,className:"navbar-user-avatar",children:Object(y.jsx)(Z.a,{sx:{bgcolor:"primary.main",height:"46px",width:"46px"},alt:t,children:h})}),Object(y.jsxs)(de,{open:b,handleClose:function(e){s.current&&s.current.contains(e.target)||x(!1)},handleOpen:p,children:[Object(y.jsxs)(d.a,{className:"navbar-dropdown-info-container",children:[Object(y.jsx)(Z.a,{sx:{marginRight:"7px",bgcolor:"white"},children:Object(y.jsx)(pe.a,{color:"primary",fontSize:"large"})}),Object(y.jsxs)(d.a,{className:"navbar-dropdown-info",children:[Object(y.jsxs)(j.a,{children:[t," ",n]}),Object(y.jsx)(j.a,{variant:"caption",children:a})]})]}),Object(y.jsx)(je.a,{}),fe.map((function(e){return Object(y.jsxs)(be.a,{onClick:function(){return t=e.path,x(!1),void c.push(t);var t},children:[Object(y.jsx)(xe.a,{children:e.img}),Object(y.jsx)(he.a,{children:e.title})]},e)})),Object(y.jsxs)(be.a,{onClick:function(){i({type:"SIGN_OUT"}),c.push("/login")},children:[Object(y.jsx)(xe.a,{children:Object(y.jsx)(Oe.a,{color:"primary"})}),Object(y.jsx)(he.a,{children:"Logout"})]})]})]})},me=n(320),ve=n(321),ye=n(322),we=n(32),Ce=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:null,e.next=3,T.get("products?page=1&",{params:Object(G.a)({},t)});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.get("group?user_id=".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r,a,c,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:null,a=i.length>3&&void 0!==i[3]?i[3]:null,e.prev=2,e.next=5,T.post("product",Object(G.a)({},t),{headers:{Authorization:"Bearer ".concat(n)}});case 5:return c=e.sent,r&&r(),e.abrupt("return",c);case 10:e.prev=10,e.t0=e.catch(2),a&&a();case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.get("group/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(u.a)(o.a.mark((function e(t,n,r){var a,c,i,s=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>3&&void 0!==s[3]?s[3]:null,c=s.length>4&&void 0!==s[4]?s[4]:null,e.prev=2,e.next=5,T.post("group/".concat(t),{user_id:n},{headers:{Authorization:"Bearer ".concat(r)}});case 5:if(201!==(i=e.sent).status){e.next=10;break}if(!a){e.next=9;break}return e.abrupt("return",a());case 9:case 10:return e.abrupt("return",i);case 13:e.prev=13,e.t0=e.catch(2),c();case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n,r){return e.apply(this,arguments)}}(),We=function(){var e=Object(u.a)(o.a.mark((function e(t,n,r){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.post("group/announcement/".concat(t),{description:n},{headers:{Authorization:"Bearer ".concat(r)}});case 3:return a=e.sent,c=(c=new Date(a.data.date.$date)).toDateString().split(" ").slice(1).join(" "),e.abrupt("return",Object(G.a)(Object(G.a)({},a.data),{},{date:c}));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return","Could not post");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Te=function(){var e=Object(u.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.delete("group/announcement/".concat(t),{headers:{Authorization:"Bearer ".concat(r)},data:{announcementId:n}});case 3:return e.sent,e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),De=n(318),Ne=n(324),Fe=n(319),Le=n(314),Pe=n(97),Ue=n(141),_e=n(339),Ae=n(340),Me=function(e){var t=Object.assign({},e);return Object(y.jsxs)(Pe.a,{color:"secondary",focused:!0,fullWidth:!0,variant:"filled",sx:Object(G.a)({width:"50%",padding:"0 2px"},t.sx),children:[Object(y.jsx)(Ue.a,{htmlFor:"filled-adornment-amount",children:t.label}),Object(y.jsx)(_e.a,{placeholder:t.placeholder,sx:{color:"white"},id:"filled-adornment-amount",startAdornment:Object(y.jsx)(Ae.a,{position:"start",children:Object(y.jsx)(j.a,{sx:{color:"white"},children:t.currency})}),value:t.value,onChange:function(e){return t.onChange(e)},type:"number"})]})},qe=(n(315),n(316),n(317),n(120),n(236),Object(h.a)(k.a)((function(e){return{"& label":{color:"white"},"& .MuiInput-underline:after":{borderBottomColor:"white"},"& .MuiOutlinedInput-input":{color:"white"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"white"},"&:hover fieldset":{borderColor:"white"},"&.Mui-focused fieldset":{borderColor:"white"}},"& svg":{color:"white"},"& .MuiFormHelperText-root":{color:"white"}}}))),Ee=["onFilterChange","filterState"],Be=["onDateChange","filterDateState"],Ge=function(e){return Object(y.jsx)(j.a,{sx:{color:"white"},children:e.children})},$e=function(e){var t=e.onDateChange,n=e.filterDateState;Object(K.a)(e,Be);return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(De.b,{dateAdapter:Fe.a,children:Object(y.jsx)(Ne.a,{label:"Choose a date",value:n,onChange:function(e){t(e)},renderInput:function(e){return Object(y.jsx)(qe,Object(G.a)({helperText:"Filter before this date",color:"secondary"},e))}})})})},ze=function(e){var t=e.onFilterChange,n=e.filterState;Object(K.a)(e,Ee);return Object(y.jsx)(_.a,{className:"filter-root-paper",elevation:22,children:Object(y.jsxs)(Le.a,{className:"filter-container",children:[Object(y.jsxs)(Le.a,{children:[Object(y.jsx)(Ge,{children:"Price Range:"}),Object(y.jsxs)(Le.a,{children:[Object(y.jsx)(Me,{value:n.minimumValue,onChange:function(e){return function(e){var n=e.target.value;t("onMinPriceChange",n)}(e)},label:"Min",currency:"$",placeholder:"Min"}),Object(y.jsx)(Me,{value:n.maximumValue,onChange:function(e){return function(e){var n=e.target.value;t("onMaxPriceChange",n)}(e)},label:"Max",currency:"$",placeholder:"Max"})]}),Object(y.jsx)(Le.a,{sx:{marginTop:"10px"},children:Object(y.jsx)($e,{onDateChange:function(e){return function(e){t("dateChange",e)}(e)},filterDateState:n.date})}),Object(y.jsx)(Le.a,{sx:{display:"flex",justifyContent:"center"},children:Object(y.jsx)(je.a,{sx:{marginTop:"6px",borderColor:"#747474",width:"50%"}})})]}),Object(y.jsx)(p,{onClick:function(e){t("reset")},fullWidth:!0,sx:{marginTop:"10px"},children:"Reset"})]})})},Ve={minimumValue:"",maximumValue:"",sortingType:"",isAscending:!1,isDescending:!1,date:null},Qe=function(){var e=Object(g.g)(),t=Object(f.b)(),n=Object(r.useState)(!1),a=Object(l.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(""),d=Object(l.a)(s,2),j=d[0],b=d[1],x=Object(r.useState)(Ve),h=Object(l.a)(x,2),p=h[0],m=h[1],v=function(){var n=Object(u.a)(o.a.mark((function n(){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=z(p,j),t(F(r)),e.push("/search-products");case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(_.a,{sx:{width:"500px",borderRadius:"20px",display:"flex",alignItems:"center",flex:2,position:"relative"},elevation:10,children:[Object(y.jsx)(we.c,{sx:{padding:"7px 15px",flex:1},placeholder:"Search...",value:j,onChange:function(e){return b(e.target.value)}}),Object(y.jsx)(X.a,{onClick:v,children:Object(y.jsx)(me.a,{color:"primary"})}),Object(y.jsxs)(O,{onClick:function(){return i(!c)},children:["Filter",c?Object(y.jsx)(ve.a,{}):Object(y.jsx)(ye.a,{})]}),c&&Object(y.jsx)(ze,{filterState:p,onFilterChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(e){case"onMinPriceChange":if(!isNaN(t))return m((function(e){return Object(G.a)(Object(G.a)({},e),{},Object(Y.a)({},"minimumValue",t))}));break;case"onMaxPriceChange":if(!isNaN(t))return m((function(e){return Object(G.a)(Object(G.a)({},e),{},Object(Y.a)({},"maximumValue",t))}));break;case"onSortSelect":return m((function(e){return Object(G.a)(Object(G.a)({},e),{},Object(Y.a)({},"sortingType",t))}));case"isDescending":case"isAscending":case"isNeither":return m((function(t){return Object(G.a)(Object(G.a)({},t),{},{isAscending:"isAscending"===e,isDescending:"isDescending"===e})}));case"dateChange":return m((function(e){return Object(G.a)(Object(G.a)({},e),{},{date:""!==t?t:null})}));case"reset":return m(Ve);default:return}}})]})})};n(237);function He(){var e=Object(g.g)(),t=Object(f.c)((function(e){return e.profile})),n=t.id,r=t.firstName,a=t.lastName,c=t.email;return Object(y.jsx)(m.a,{style:{maxWidth:"1500px"},children:Object(y.jsxs)(se.a,{sx:{flex:1,display:"flex",justifyContent:"space-around",alignItems:"center"},children:[Object(y.jsx)(d.a,{sx:{display:"flex",alignItems:"center",flex:1},children:Object(y.jsx)("img",{onClick:function(){e.push("/")},src:oe,style:{width:"150px",height:"90px",cursor:"pointer"}})}),Object(y.jsx)(Qe,{}),Object(y.jsxs)(d.a,{sx:{width:"150px",display:"flex",justifyContent:"space-evenly",position:"relative",flex:1},children:[n?Object(y.jsx)(p,{onClick:function(){e.push("/create-group")},variant:"contained",children:"Create Group"}):null,n?Object(y.jsx)(ge,{firstName:r,lastName:a,email:c,id:n}):Object(y.jsx)(Je,{onClick:function(){e.push("/login")}})]})]})})}var Je=function(e){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(p,{onClick:e.onClick,color:"inherit",children:"Login"})})},Ye=n(15),Ke=["groupTitle","groupDescription","groupQuantity","groupImageURL","setValidationError"],Ze=function(e){var t=e.groupTitle,n=e.groupDescription,r=e.groupQuantity,a=e.groupImageURL,c=e.setValidationError;Object(K.a)(e,Ke);return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Le.a,{sx:{paddingBottom:"20px"},children:Object(y.jsx)(j.a,{color:"#535252",variant:"h4",children:"Group Details"})}),Object(y.jsx)(B,{fullWidth:!0,value:t.value,onChange:function(e){return t.setGroupTitle(e.target.value)},label:"Product/Group Title",required:!0,validation:c}),Object(y.jsx)(B,{fullWidth:!0,value:n.value,onChange:function(e){return n.setGroupDescription(e.target.value)},label:"Description",required:!0,validation:c}),Object(y.jsx)(B,{fullWidth:!0,value:r.value,onChange:function(e){return r.setGroupQuantity(e.target.value)},label:"Quantity",required:!0,numericInteger:!0,validation:c}),Object(y.jsx)(B,{fullWidth:!0,value:a.value,onChange:function(e){return a.setGroupImageURL(e.target.value)},label:"Image URL",required:!0,validation:c})]})},Xe=n(328),et=n(56),tt=function e(t,n,r,a,c,i){Object(et.a)(this,e),this.title=t,this.description=n,this.price=r,this.quantity=a,this.imageUrl=c,this.tempId=i},nt=n(327),rt=n(110),at=n.n(rt),ct=["onAddProductItem","productItemList"],it=["isModalOpen","handleChange","onAddProductItem"],st=["productListItem"],ot={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"50%",minWidth:"360px",maxWidth:"425px",bgcolor:"background.paper",padding:"15px 20px",borderRadius:"10px"},ut=function(e){var t=e.isModalOpen,n=e.handleChange,a=e.onAddProductItem,c=(Object(K.a)(e,it),Object(r.useRef)(!1)),i=Object(r.useState)(""),s=Object(l.a)(i,2),o=s[0],u=s[1],d=Object(r.useState)(""),b=Object(l.a)(d,2),x=b[0],h=b[1],O=Object(r.useState)(""),f=Object(l.a)(O,2),g=f[0],m=f[1],v=Object(r.useState)(""),w=Object(l.a)(v,2),C=w[0],S=w[1],k=Object(r.useState)(""),I=Object(l.a)(k,2),R=I[0],W=I[1],T=function(e){e!==c.current&&(c.current=e)};return Object(y.jsx)(Xe.a,{open:t,onClose:function(){return n(!1)},children:Object(y.jsxs)(_.a,{sx:ot,children:[Object(y.jsx)(j.a,{variant:"h6",children:"Product Item Details"}),Object(y.jsxs)(Le.a,{sx:{display:"flex",flexDirection:"column",padding:"15px 0px","& .MuiBox-root":{paddingBottom:"10px"}},children:[Object(y.jsx)(B,{fullWidth:!0,label:"Title",value:o,onChange:function(e){return u(e.target.value)},required:!0,validation:T}),Object(y.jsx)(B,{fullWidth:!0,label:"Description",value:x,onChange:function(e){return h(e.target.value)},required:!0,validation:T}),Object(y.jsx)(B,{fullWidth:!0,label:"Price",value:g,onChange:function(e){return m(e.target.value)},required:!0,numeric:!0,validation:T}),Object(y.jsx)(B,{fullWidth:!0,label:"Quantity",value:C,onChange:function(e){return S(e.target.value)},required:!0,numericInteger:!0,validation:T}),Object(y.jsx)(B,{fullWidth:!0,label:"Image Url",value:R,onChange:function(e){return W(e.target.value)},required:!0,validation:T}),Object(y.jsx)(p,{disabled:!1===(""!==o&&""!==x&&""!==g&&""!==C&&""!==R),onClick:function(){var e=new tt(o,x,g,C,R,Object(nt.a)());a(e),n(!1)},children:"Save"})]})]})})},lt=function(e){var t=e.productListItem,n=Object(K.a)(e,st);return Object(y.jsxs)(Le.a,{sx:{padding:"0 10px",height:"50px",width:"100%",marginBottom:"10px",backgroundColor:"#efefef",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(y.jsx)(j.a,{children:t.title}),Object(y.jsx)(Le.a,{children:Object(y.jsx)(p,{onClick:function(){n.onDeleteProductItem(t.tempId)},children:Object(y.jsx)(at.a,{})})})]})},dt=function(e){var t=e.onAddProductItem,n=e.productItemList,c=Object(K.a)(e,ct),i=Object(r.useState)(!1),s=Object(l.a)(i,2),o=s[0],u=s[1];return Object(y.jsxs)(Le.a,{sx:{paddingBottom:"10px"},children:[Object(y.jsx)(Le.a,{sx:{paddingBottom:"10px"},children:Object(y.jsx)(j.a,{color:"#535252",variant:"h6",children:"Product Items"})}),Object(y.jsx)(Le.a,{sx:{display:"flex",flexDirection:"column",paddingBottom:"10px"},children:0===n.length?Object(y.jsx)(j.a,{color:"#535252",children:"No Products"}):n.map((function(e){return Object(y.jsx)(a.a.Fragment,{children:Object(y.jsx)(lt,{onDeleteProductItem:c.onDeleteProductItem,productListItem:e})},e.tempId)}))}),Object(y.jsx)(p,{onClick:function(){return u(!0)},fullWidth:!0,children:"Add Product"}),o&&Object(y.jsx)(ut,{isModalOpen:o,handleChange:u,onAddProductItem:t})]})},jt=function(e,t,n,r,a){var c=0;a.forEach((function(e){c+=parseFloat(e.price)}));var i=a.map((function(e){return{title:e.title,description:e.description,price:e.price,quantity:parseInt(e.quantity),imageURL:e.imageURL}}));return{title:e,description:t,quantity:parseInt(n),price:c,items:i,imageURL:r}},bt=["postResult"],xt=function(e){var t=e.postResult,n=(Object(K.a)(e,bt),Object(g.g)());return Object(y.jsx)(Le.a,{sx:{width:"100%",backgroundColor:"".concat(!1===t.error?"#81c784":"#f44336"),padding:"10px",marginBottom:"10px"},children:Object(y.jsxs)(j.a,{onClick:function(){n.push("/search-products")},sx:{fontWeight:400,cursor:"pointer"},variant:"h6",children:[t.message," ",t.error?null:"Go to Products"]})})},ht=function(){var e=Object(f.c)((function(e){return e.profile})),t=Object(r.useRef)(!1),n=Object(r.useState)(""),a=Object(l.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(""),d=Object(l.a)(s,2),j=d[0],b=d[1],x=Object(r.useState)(""),h=Object(l.a)(x,2),O=h[0],g=h[1],m=Object(r.useState)(""),v=Object(l.a)(m,2),w=v[0],S=v[1],k=Object(r.useState)([]),I=Object(l.a)(k,2),R=I[0],W=I[1],T=Object(r.useState)(!1),D=Object(l.a)(T,2),N=D[0],F=D[1],L=Object(r.useState)(null),P=Object(l.a)(L,2),U=P[0],_=P[1],A=function(){var t=Object(u.a)(o.a.mark((function t(){var n,r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(){_({message:"The product could not be saved",error:!0})},r=function(){_({message:"The product is saved!",error:!1})},F(!0),a=jt(c,j,O,w,R),t.next=6,ke(a,e.jwtToken,r,n);case 6:F(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(C,{children:Object(y.jsx)(Le.a,{sx:{display:"flex",justifyContent:"center",margin:"20px 0px"},children:Object(y.jsxs)(Le.a,{sx:{width:"75%",minWidth:"360px"},children:[null!==U&&Object(y.jsx)(xt,{postResult:U}),Object(y.jsx)(Ze,{groupTitle:{value:c,setGroupTitle:i},groupDescription:{value:j,setGroupDescription:b},groupQuantity:{value:O,setGroupQuantity:g},groupImageURL:{value:w,setGroupImageURL:S},setValidationError:function(e){t.current!=e&&(t.current=e)}}),Object(y.jsx)(dt,{onAddProductItem:function(e){W((function(t){return[].concat(Object(Ye.a)(t),[e])}))},productItemList:R,onDeleteProductItem:function(e){var t=R.filter((function(t){return t.tempId!==e}));W(Object(Ye.a)(t))}}),Object(y.jsx)(p,{disabled:!1===(t&&""!==c&&""!==j&&""!==O&&q(O)&&0!==R.length)||!0===N,fullWidth:!0,onClick:A,children:"Save"})]})})})})},pt=n(61),Ot=n(332),ft=n(325),gt=n(342),mt=n(111),vt=n.n(mt),yt=n.p+"static/media/Astronaut-01.bc754a5b.svg",wt=["product","onErrorJoin","joined"],Ct=function(e){var t=e.product,n=e.onErrorJoin,r=e.joined,a=(Object(K.a)(e,wt),Object(g.g)()),c=Object(f.c)((function(e){return{id:e.profile.id,jwtToken:e.profile.jwtToken,auth:e.auth}})),i=c.id,s=c.jwtToken,l=c.auth,b=t.Organizer,x=t.date,h=t.description,O=(t.price,t.quantity),m=t.status,v=t.title,w=(t._id,t.imageURL),C=t.Group,S=function(){var e=C.$oid;a.push("/dashboard/".concat(e))},k=function(){n(!0)},I=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&"CHECKING"!==l){e.next=4;break}S(),e.next=8;break;case 4:return k(),t=C.$oid,e.next=8,Re(t,i,s,S,k);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(d.a,{sx:{boxShadow:"5px 5px 20px rgb(0 0 0 / 60%)",borderRadius:"1rem",width:"20rem",height:"410px",display:"flex",flexDirection:"column"},children:[Object(y.jsxs)(d.a,{sx:{py:"1rem",flex:1},children:[Object(y.jsx)(d.a,{sx:{p:"1rem",m:"auto",width:"200px",borderRadius:"1rem",display:"flex",justifyContent:"center",height:"200px"},children:V(w)?Object(y.jsx)("img",{src:w}):Object(y.jsx)("img",{src:yt})}),Object(y.jsxs)(d.a,{sx:{textAlign:"center",mt:"1rem",padding:"0 10px"},children:[Object(y.jsx)(j.a,{variant:"h5",children:v}),Object(y.jsx)(j.a,{children:b}),Object(y.jsx)(d.a,{children:Object(y.jsx)(j.a,{sx:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",display:"block"},variant:"caption",children:h})})]})]}),Object(y.jsxs)(d.a,{children:[Object(y.jsxs)(d.a,{sx:{display:"flex",justifyContent:"space-around",alignItems:"center"},children:[Object(y.jsxs)(d.a,{sx:{textAlign:"center"},children:[Object(y.jsx)(j.a,{variant:"body2",children:function(e){var t=e.$date;return new Date(t).toISOString().split("T")[0]}(x)}),Object(y.jsx)(j.a,{variant:"caption",children:"Date Created"})]}),Object(y.jsxs)(d.a,{sx:{textAlign:"center"},children:[Object(y.jsx)(j.a,{variant:"body2",children:O}),Object(y.jsx)(j.a,{variant:"caption",children:"Quantity"})]}),Object(y.jsxs)(d.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(y.jsx)(vt.a,{sx:{fontSize:"1rem",color:"green"}}),Object(y.jsx)(j.a,{variant:"caption",children:m})]})]}),Object(y.jsx)(p,{sx:{backgroundColor:"white",textAlign:"center",color:"white",borderBottomLeftRadius:"1rem",borderBottomRightRadius:"1rem",mt:".5rem",width:"100%"},onClick:r?S:I,children:r?"Already Joined":"Join"})]})]})})},St=n(7),kt=n(323),It=n(172),Rt=Object(St.a)(kt.a)((function(e){var t,n=e.theme;return t={height:10,borderRadius:5},Object(Y.a)(t,"&.".concat(It.a.colorPrimary),{backgroundColor:n.palette.primary.light}),Object(Y.a)(t,"& .".concat(It.a.bar),{borderRadius:5,backgroundColor:n.palette.primary.main}),t})),Wt=function(){return Object(y.jsxs)(Le.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column"},children:[Object(y.jsx)("img",{src:oe,style:{width:"150px",height:"90px"}}),Object(y.jsx)(Rt,{sx:{width:"90vw",maxWidth:"250px"}})]})},Tt=n(173),Dt=n.n(Tt),Nt=function(e){var t=e.myProductsTab;return Object(y.jsx)(Le.a,{sx:{display:"flex",alignItems:"center",height:"400px"},children:Object(y.jsx)(j.a,{sx:{color:"#9c9b9b"},variant:"h5",children:t?"Oh no, your not trying to buy any products O_O?":"Hmmmmm, we couldn't find any products"})})},Ft=function(){Object(f.b)();var e=Object(r.useState)("allProducts"),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),i=Object(l.a)(c,2),s=i[0],d=i[1],b=Object(r.useState)([]),x=Object(l.a)(b,2),h=x[0],p=x[1],O=Object(r.useState)(!0),g=Object(l.a)(O,2),m=g[0],v=g[1],w=Object(r.useState)(!1),S=Object(l.a)(w,2),k=S[0],I=S[1],R=Object(r.useState)(!1),W=Object(l.a)(R,2),T=W[0],D=W[1],N=Object(f.c)((function(e){return{auth:e.auth,searchQuery:e.searchQuery,profile:e.profile}})),F=N.auth,L=N.searchQuery,P=N.profile;Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ce(L);case 3:if(t=e.sent,n=t.data,!F||!P.id){e.next=12;break}return e.next=8,Se(P.id);case 8:r=e.sent.data.product_ids,a=t.data.filter((function(e){return r.includes(e._id.$oid)})),n=t.data.filter((function(e){return!r.includes(e._id.$oid)})),p((function(){return Object(Ye.a)(a)}));case 12:d((function(){return Object(Ye.a)(n)})),D(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),D(!0);case 19:v(!1);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();e()}),[L,F]);return m?Object(y.jsx)(Wt,{}):T?Object(y.jsx)(j.a,{children:"Error"}):Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(C,{children:Object(y.jsxs)(Le.a,{sx:{marginBottom:"40px"},children:[Object(y.jsx)(Le.a,{sx:{flex:1,margin:"40px 0px",width:"100%"},children:Object(y.jsxs)(ft.a,{sx:{justifyContent:"center","& .MuiTabs-flexContainer":{justifyContent:"center"}},value:n,onChange:function(e,t){return function(e){a(e)}(t)},children:[Object(y.jsx)(gt.a,{style:{flex:1},value:"allProducts",label:"All Products"}),Object(y.jsx)(gt.a,{style:{flex:1},value:"myProducts",label:"My Groups",disabled:!0!==F})]})}),k&&Object(y.jsxs)(Le.a,{sx:{bgcolor:function(e){return e.palette.error.light},padding:"5px 10px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(y.jsx)(j.a,{color:"white",variant:"h6",children:"Could not join group. Please try agian later."}),Object(y.jsx)(X.a,{onClick:function(){return I(!1)},children:Object(y.jsx)(Dt.a,{})})]}),Object(y.jsx)(Ot.a,{sx:{margin:0,width:"100%"},container:!0,spacing:4,justifyContent:"center",children:"allProducts"===n?s.map((function(e){return Object(y.jsx)(Ot.a,{item:!0,children:Object(y.jsx)(Ct,{onErrorJoin:I,product:e})},e._id.$oid)})):0===h.length?Object(y.jsx)(Nt,{myProductsTab:!0}):h.map((function(e){return Object(y.jsx)(Ot.a,{item:!0,children:Object(y.jsx)(Ct,{joined:!0,product:e})},e._id.$oid)}))})]})})})},Lt=function(e){var t=Object(g.g)(),n=e.name,r=e.id;return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(d.a,{onClick:function(){t.push("/users/".concat(r))},sx:{display:"flex",alignItems:"center",py:"1rem",cursor:"pointer"},children:[Object(y.jsx)(Z.a,{}),Object(y.jsx)(j.a,{sx:{ml:"1rem"},children:n})]})})},Pt=n(174),Ut=["product","productItems"],_t=["product"],At=["productItems"],Mt=["id","message","date","onDelete"],qt=["announcements","groupId","jwtToken","isOwner"],Et=function(e){var t=e.product,n=e.productItems;Object(K.a)(e,Ut);return Object(y.jsx)(_.a,{elevation:10,sx:{marginBottom:"20px"},children:Object(y.jsxs)(Ot.a,{container:!0,children:[Object(y.jsx)(Ot.a,{sx:{width:"100%",padding:"10px",height:"400px"},md:4,item:!0,children:Object(y.jsx)(Bt,{product:t})}),Object(y.jsx)(Ot.a,{sx:{width:"100%",padding:"10px",height:"400px"},md:8,item:!0,children:Object(y.jsx)(Gt,{productItems:n})})]})})},Bt=function(e){var t=e.product;Object(K.a)(e,_t);return Object(y.jsxs)(_.a,{sx:{height:"100%"},children:[Object(y.jsx)(d.a,{sx:{width:"100%"},children:Object(y.jsx)("img",{style:{width:"100%",height:"300px",objectFit:"cover",overflow:"hidden"},src:"".concat(V(t.imageURL)?t.imageURL:yt)})}),Object(y.jsxs)(d.a,{sx:{padding:"10px"},children:[Object(y.jsx)(j.a,{children:t.title}),Object(y.jsx)(j.a,{children:t.description})]})]})},Gt=function(e){var t=e.productItems;Object(K.a)(e,At);return Object(y.jsx)(Pt.a,{sx:{"&.MuiDataGrid-root .MuiDataGrid-columnHeader:focus, &.MuiDataGrid-root .MuiDataGrid-cell:focus":{outline:"none"}},columns:[{field:"title",flex:1},{field:"price"},{field:"quantity"}],rows:t.map((function(e){return{id:e._id.$oid,title:e.title,price:"$".concat(e.price),quantity:e.quantity}}))})},$t=function(e){var t=e.id,n=e.message,r=e.date,a=e.onDelete;Object(K.a)(e,Mt);return Object(y.jsxs)(_.a,{elevation:3,sx:{padding:"15px",marginBottom:"10px"},children:[Object(y.jsx)(j.a,{children:n}),Object(y.jsxs)(d.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(y.jsx)(j.a,{variant:"caption",children:r||"No Date Provided"}),Object(y.jsx)(p,{onClick:function(){return a(t)},children:Object(y.jsx)(at.a,{})})]})]})},zt=function(e){var t=e.announcements,n=e.groupId,c=e.jwtToken,i=e.isOwner,s=(Object(K.a)(e,qt),Object(r.useState)(Object(Ye.a)(t))),j=Object(l.a)(s,2),b=j[0],x=j[1],h=Object(r.useState)(""),O=Object(l.a)(h,2),f=O[0],g=O[1],m=Object(r.useState)(!1),v=Object(l.a)(m,2),w=v[0],C=v[1],S=Object(r.useState)(!1),I=Object(l.a)(S,2),R=(I[0],I[1]),W=function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b.filter((function(e){return e._id.$oid!==t})),e.prev=1,e.next=4,Te(n,t,c);case 4:e.sent&&x(Object(Ye.a)(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),R(!0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,e.next=4,We(n,f,c);case 4:t=e.sent,x((function(e){return[].concat(Object(Ye.a)(e),[t])})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),R(!0);case 11:g(""),C(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)(d.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(y.jsx)(d.a,{sx:{flex:1,overflow:"scroll",overflowX:"hidden",padding:"10px"},children:b.map((function(e){return Object(y.jsx)(a.a.Fragment,{children:Object(y.jsx)($t,{id:e._id.$oid,message:e.description,date:e.date,onDelete:W})},e._id.$oid)}))}),Object(y.jsxs)(_.a,{elevation:10,sx:{display:"flex",marginTop:"12px",padding:"10px"},children:[Object(y.jsx)(k.a,{disabled:!i,value:f,onChange:function(e){return function(e){w||C(!1),g(e.target.value)}(e)},fullWidth:!0,label:i?"Announcements":"Only organizer may post announcements"}),Object(y.jsx)(p,{disabled:!i||w,onClick:T,sx:{width:"100px",marginLeft:"10px"},children:"Send"})]})]})},Vt=function(){var e=Object(f.c)((function(e){return e.profile})),t=Object(g.h)().groupId,n=Object(r.useState)(!0),c=Object(l.a)(n,2),i=c[0],s=c[1],b=Object(r.useState)({}),x=Object(l.a)(b,2),h=x[0],p=x[1],O=Object(r.useState)("announcement"),m=Object(l.a)(O,2),v=m[0],w=m[1];Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie(t);case 2:n=e.sent,p(n),s(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var S=function(){return h.user_id.filter((function(e){return e._id.$oid!==h.Organizer._id.$oid})).map((function(e){return Object(y.jsx)(a.a.Fragment,{children:Object(y.jsx)(Lt,{id:e._id.$oid,name:e.username})},e._id.$oid)}))};return i?Object(y.jsx)(Wt,{}):Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(C,{children:Object(y.jsxs)(d.a,{sx:{display:"flex",padding:"20px 0px"},children:[Object(y.jsxs)(d.a,{sx:{flex:5},children:[Object(y.jsx)(d.a,{children:Object(y.jsx)(Et,{product:h.Product,productItems:h.Product.items})}),Object(y.jsxs)(_.a,{elevation:12,children:[Object(y.jsx)(d.a,{sx:{width:"100%",bgcolor:"background.paper"},children:Object(y.jsx)(ft.a,{variant:"fullWidth",value:v,onChange:function(e,t){w(t)},centered:!0,children:Object(y.jsx)(gt.a,{label:"Announcement",value:"announcement"})})}),Object(y.jsxs)(d.a,{sx:{height:"400px"},children:[Object(y.jsx)(zt,{announcements:h.announcement,groupId:t,jwtToken:e.jwtToken,isOwner:e.id===h.Organizer._id.$oid})," :"]})]})]}),Object(y.jsxs)(_.a,{elevation:12,sx:{flex:1,minWidth:"170px",padding:"10px",marginLeft:"15px"},children:[Object(y.jsx)(j.a,{children:"Owner"}),h.user_id.filter((function(e){return e._id.$oid===h.Organizer._id.$oid})).map((function(e){return Object(y.jsx)(a.a.Fragment,{children:Object(y.jsx)(Lt,{id:e._id.$oid,name:e.username})},e._id.$oid)})),0!==S().length&&Object(y.jsx)(j.a,{children:"Users"}),S()]})]})})})},Qt=["children"],Ht=["children"],Jt=function(e){var t=e.children,n=Object(K.a)(e,Qt),r=Object(f.c)((function(e){return e.auth})),a=!1;return!0===r&&(a=!0),Object(y.jsx)(g.b,Object(G.a)(Object(G.a)({},n),{},{render:function(){return a?t:Object(y.jsx)(g.a,{to:"/login"})}}))},Yt=function(e){var t=e.children,n=Object(K.a)(e,Ht),r=Object(f.c)((function(e){return e.auth})),a=!1;return r&&(a=!0),Object(y.jsx)(g.b,Object(G.a)(Object(G.a)({},n),{},{render:function(){return a?Object(y.jsx)(g.a,{to:"/"}):t}}))},Kt="CHECKING",Zt=n.p+"static/media/unauthorizedSVG.b6068411.svg",Xt=function(){return Object(y.jsx)(C,{children:Object(y.jsxs)(d.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:"70px"},children:[Object(y.jsx)(j.a,{sx:{fontWeight:700},variant:"h4",children:"WHOOPS DOO, you shouldn't be here"}),Object(y.jsx)(j.a,{sx:{padding:"10px 0px",fontWeight:300},variant:"h6",children:"(We couldn't finish the review page due shear amount of work)"}),Object(y.jsx)("img",{style:{height:"800px"},src:Zt})]})})};var en=function(){var e=Object(f.b)(),t=Object(f.c)((function(e){return{errorState:e.error,authState:e.auth}})),n=(t.errorState,t.authState),a=Object(r.useState)(!0),c=Object(l.a)(a,2),i=(c[0],c[1]),s=Object(r.useCallback)(Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=window.localStorage.getItem("wesource-token"),e(n?D(n):{type:"SIGN_OUT"});case 2:case"end":return t.stop()}}),t)}))),[]);return Object(r.useEffect)((function(){s()}),[s]),Object(r.useEffect)((function(){n!==Kt&&i(!1)}),[n]),Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(_.a,{sx:{bgcolor:"background.default"},children:Object(y.jsxs)(pt.a,{basename:"/wesource-frontend",children:[Object(y.jsx)(He,{}),Object(y.jsxs)(g.d,{children:[Object(y.jsx)(g.b,{exact:!0,path:"/",component:S}),Object(y.jsx)(Yt,{exact:!0,path:"/login",children:Object(y.jsx)(J,{})}),Object(y.jsx)(g.b,{exact:!0,path:"/search-products",component:Ft}),Object(y.jsx)(Jt,{exact:!0,path:"/profile",children:Object(y.jsx)(ie,{})}),Object(y.jsx)(Jt,{exact:!0,path:"/dashboard/:groupId",children:Object(y.jsx)(Vt,{})}),Object(y.jsx)(g.b,{exact:!0,path:"/users/:userID",component:Xt}),Object(y.jsx)(Jt,{exact:!0,path:"/create-group",children:Object(y.jsx)(ht,{})})]})]})})})},tn=n(93),nn=Object(tn.b)({profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":var n=t.payload,r=n.jwtToken,a=n.id;return Object(G.a)(Object(G.a)({},t.payload.user),{},{jwtToken:r,id:a});case"SIGN_OUT":return{};case"UPDATE_USER":var c=t.payload.userProfile;return Object(G.a)(Object(G.a)({},e),c);default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":var n=t.payload.jwtToken;return window.localStorage.setItem("wesource-token",n),!0;case"SIGN_OUT":return window.localStorage.removeItem("wesource-token"),!1;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SERVER_ERROR"===t.type||e},searchQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SEARCH_QUERY"===t.type?t.payload.query:e}}),rn=nn,an=n(175),cn=(n(239),n(78)),sn=n(139),on=Object(sn.a)({palette:{type:"light",primary:{main:"#e53935",light:"#ffa5a3"},secondary:{main:"#FFFFFF"},error:{main:cn.a.A400},success:{main:"#81c784"}}}),un=n(333),ln=Object(tn.c)(rn,void 0,Object(tn.a)(an.a));i.a.render(Object(y.jsx)(f.a,{store:ln,children:Object(y.jsx)(un.a,{theme:on,children:Object(y.jsx)(en,{})})}),document.querySelector("#root"))}},[[240,1,2]]]);
//# sourceMappingURL=main.dc7bcfbe.chunk.js.map